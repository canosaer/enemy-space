class Opponent{constructor(){this.bonus={pilot:0,gunner:0,engineer:0},this.components=[],this.crewElements={pilot:document.querySelector(".crew__pilot-level_opponent"),gunner:document.querySelector(".crew__gunner-level_opponent"),engineer:document.querySelector(".crew__engineer-level_opponent")},this.nameElement=document.querySelector(".ship-display__name_opponent"),this.setupListeners()}setupListeners(){document.addEventListener("setupOpponent",this.setupOpponent),document.addEventListener("renderInstalledComponents",this.renderInstalledComponents)}setupOpponent=e=>{let t=document.querySelector(".ship-display__image_opponent"),{level:n}=e.detail,{referenceDeck:s}=e.detail;1===n?(t.style.background='url("../../src/img/ships/fighter.png")',t.style.backgroundPosition="center",t.style.backgroundSize="cover",this.components=[s.cards[9],s.cards[0]],this.components[1].counter=12,this.bonus.engineer=1,this.bonus.gunner=1,this.bonus.pilot=1,this.defense=5,this.crewElements.pilot.textContent=this.bonus.pilot,this.crewElements.gunner.textContent=this.bonus.gunner,this.crewElements.engineer.textContent=this.bonus.engineer,this.name="Blob Fighter",this.nameElement.textContent=this.name):2===n&&(t.style.background='url("../../src/img/ships/battleship.png")',t.style.backgroundPosition="center",t.style.backgroundSize="cover",this.components=[s.cards[4],s.cards[7],s.cards[11]],this.bonus.engineer=1,this.bonus.gunner=1,this.bonus.pilot=1,this.defense=5.2,this.crewElements.pilot.textContent=this.bonus.pilot,this.crewElements.gunner.textContent=this.bonus.gunner,this.crewElements.engineer.textContent=this.bonus.engineer,this.name="Battle Blob",this.nameElement.textContent=this.name),this.renderInstalledComponents()};advancePhase=()=>{let e=new CustomEvent("advancePhase");document.dispatchEvent(e)};logMessage(e){let t=new CustomEvent("message",{detail:{message:e}});document.dispatchEvent(t)}renderInstalledComponents=()=>{let e=document.querySelector(".components_opponent"),t=document.querySelector(".consumables_opponent"),n=e.querySelectorAll(".components__item"),s=!1;if(n.length>0&&n[0].classList.contains("clickable")&&(s=!0),n.forEach((e=>{e.remove()})),n=t.querySelectorAll(".consumables__item"),n.forEach((e=>{e.remove()})),this.components.forEach((n=>{if(n.counter){let e=document.createElement("li");e.classList.add("consumables__item"),e.textContent=`${n.title}: ${n.counter}`,t.appendChild(e)}else{let t=document.createElement("li");t.classList.add("components__item"),t.style.background=`url("${n.image}")`,t.style.backgroundPosition="center",t.style.backgroundSize="cover",n.disabled&&t.classList.add("disabled"),e.appendChild(t)}})),s){let e=new CustomEvent("toggleOpponentComponents");document.dispatchEvent(e)}}}
//# sourceMappingURL=opponent.js.map